{% extends "base.html" %}

{% load staticfiles %}

{% block extra-meta %}
<!-- Open Graph Tags for Facebook -->
<meta property="og:title" content="Adorably Secure Messages from Secret Cards" >
<meta property="og:type" content="article" >
<meta property="og:image" content="{{ full_original_url }}" >
<meta property="og:url" content="{{ full_url }}" >
<meta property="og:description" content="Someone has generated an encrypted message in this cat picture. Maybe it's for you!" >
<!-- Twitter Card tags -->
<meta name="twitter:card" content="summary_large_image" >
<meta name="twitter:site" content="@DrOhYes" >
<meta name="twitter:title" content="Adorably Secure Messages from Secret Cards" >
<meta name="twitter:description" content="Someone has generated an encrypted message in this cat picture. Maybe it's for you!" >
<meta name="twitter:image" content="{{ full_original_url }}" >
{% endblock %}

{% block body-id %}message-detail{% endblock %}

{% block content %}
<section id="message">
    <div class="row">
        <div class="col s12 m6 offset-m3">
            <div class="card">
                <div class="card-image">
                    <img src="{{ message.get_image_url }}">
                </div>
                <div class="card-action">
                    <a class="pink-text" href="{{ message.get_download_url }}">Download</a>
                </div>
            </div>
        </div>
    </div>
</section>
<section id="help">
    <div class="row">
        <div class="col s12 m6 offset-m3">
            Decrypting this message requires having the private key. If this message
            was encrypted for you then you can decrypt it using your Keybase account.
            <pre>
$ curl -o {{ message.slug }}.zip {{ full_image_url }}
$ unzip {{ message.slug }}.zip
$ keybase decrypt {{ message.slug }}.asc
            </pre>
            If you don't have a Keybase account then this message is definately not
            for you.
        </div>
    </div>
</section>
{% endblock %}
